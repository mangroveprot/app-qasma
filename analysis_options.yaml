analyzer:
  exclude:
    - "**/*.g.dart" # Exclude generated files (e.g., json_serializable, freezed)
    - "**/*.freezed.dart"
    - "**/*.config.dart"
  plugins:
    - dart_code_metrics # Extra metrics like complexity, nesting, etc.

linter:
  rules:
    # ğŸ”§ FORMATTING & STYLE

    prefer_single_quotes: true

    # âœ… Enforces single quotes for strings
    # â†’ Cleaner and more consistent code
    # â†’ Only use double quotes when the string contains an apostrophe
    # Example:
    # Good:  final name = 'Yawa';
    # Bad:   final name = "Yawa";

    always_declare_return_types: true
    # âœ… Forces explicit return types on functions/methods
    # â†’ Improves readability and code clarity
    # Example:
    # Good:  String greet() => 'Hi';
    # Bad:   greet() => 'Hi';

    always_specify_types: false
    # ğŸ”„ Donâ€™t force all variables to be explicitly typed â€” allows var when clear
    # Example:
    # Good:  var count = 0;

    avoid_types_on_closure_parameters: false
    # ğŸ”„ Allows type hints in closure parameters â€” helps with context
    # Example:
    # Good:  list.forEach((String name) => print(name));

    prefer_relative_imports: true
    # âœ… Use relative imports like ../../folder/file.dart instead of package:
    # â†’ Useful for monorepos or nested libs
    # Example:
    # Good:  import '../../domain/auth.dart';
    # Bad:   import 'package:your_app/domain/auth.dart';

    # âœ… NAMING CONVENTIONS

    camel_case_types: true
    # âœ… Ensures class names use camel case
    # Example:
    # Good:  class AuthService {}
    # Bad:   class auth_service {}

    non_constant_identifier_names: false
    constant_identifier_names: false
    # ğŸ”„ Allow lowercase_with_underscores for variables or constants
    # Useful when working with APIs or database fields

    # ğŸ§¹ CODE CLEANLINESS

    avoid_print: true
    # âœ… Avoid using print (use logger instead, especially in production)
    # Example:
    # Bad:   print('Hello');
    # Good:  logger.i('Hello');

    avoid_unnecessary_containers: true
    # âœ… Prevents unnecessary Container() widgets
    # â†’ Use padding/margin directly if no decoration
    # Bad:   return Container(child: Text('Hi'));
    # Good:  return Padding(...);

    prefer_const_constructors: true
    # âœ… Use const where possible for optimization
    # Good:  const Text('Hi');

    prefer_final_fields: true
    prefer_final_locals: true
    # âœ… Use final instead of var when value doesn't change
    # â†’ Improves readability and prevents bugs

    unnecessary_this: true
    # âœ… Avoid this. when not needed
    # Bad:   this.name = name;
    # Good:  name = name;

    # ğŸ” READABILITY & SAFETY

    annotate_overrides: true
    # âœ… Ensures overridden methods are marked
    # Example:
    # @override
    # void initState() {}

    avoid_empty_else: true
    # âœ… Prevents empty else blocks â€” they are useless or error-prone
    # Bad:   if (a) {} else {}

    avoid_init_to_null: true
    # âœ… No need to initialize to null, Dart does it by default
    # Bad:   String? name = null;
    # Good:  String? name;

    use_key_in_widget_constructors: true
    # âœ… Ensures widgets use Key key in their constructor
    # Good:  const MyWidget({super.key});

    empty_constructor_bodies: true
    # âœ… Constructors with no body should use ;
    # Good:  MyClass();

    unnecessary_new: true
    # âœ… Don't use new â€” Dart doesn't require it
    # Bad:   var x = new MyClass();
    # Good:  var x = MyClass();

    unnecessary_null_checks: true
    # âœ… Removes redundant ?? or if checks
    # Bad:   name ??= 'default'; when name is already not null

    # ğŸ§ª DEBUGGING & TESTING

    avoid_returning_null: true
    # âœ… Avoid returning null in methods that expect non-nullable values

    avoid_void_async: true
    # âœ… Avoid async on void functions â€” use Future<void> instead
    # Good:  Future<void> logout() async {}

    use_full_hex_values_for_flutter_colors: true
    # âœ… Requires full 8-digit hex color (with opacity)
    # Good:  Color(0xFF112233);

    # ğŸ§­ STRUCTURE & API BOUNDARIES

    implementation_imports: false
    # âœ… Discourages importing files from lib/src/ in public packages
    # (can ignore this if not building packages)

dart_code_metrics:
  extends:
    - recommended
  rules:
    - member-ordering
    # âœ… Groups members in classes: fields, constructors, then methods

    - no-boolean-literal-compare
    # âœ… Avoid if (flag == true) â†’ just use if (flag)

    - no-equal-arguments
    # âœ… Detects doSomething(a, a); â€” likely a mistake

    - no-equal-then-else
    # âœ… Warns when if and else do the same thing

    - prefer-trailing-comma
    # âœ… Encourages trailing commas â€” better diffs and formatting
    # Good:
    # return Column(
    #   children: [
    #     Text('One'),
    #     Text('Two'),
    #   ],
    # );

  metrics:
    cyclomatic-complexity: 20
    # âœ… Warn if a function is too complex (too many if/switch/cases)

    maximum-nesting-level: 5
    # âœ… Helps avoid deeply nested code (e.g., 5+ nested ifs)

    number-of-parameters: 5
    # âœ… Warns if a function has too many parameters (design smell)

    source-lines-of-code: 150
    # âœ… Flags files with too much code â€” consider breaking them down

    number-of-methods: 10
    # âœ… Warns if a class has too many methods

  anti-patterns:
    - long-method
    # âœ… Break up long methods into smaller ones

    - long-parameter-list
    # âœ… Refactor functions with too many parameters (use object/class instead)
